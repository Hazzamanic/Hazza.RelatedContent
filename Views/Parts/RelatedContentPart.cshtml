@model dynamic
@using Hazza.RelatedContent.Models
@using Orchard.ContentManagement

@{
    // Code generated by Orchardizer
    // Access properties

    // Strongly typed
    RelatedContentPart myPart = Model.ContentPart; // if you don't want this you can remove the @using statement at the top

    // Include jQuery
    Script.Require("jQuery").AtFoot();
    // Include custom script
    // Script.Include("myscript.js").AtHead();

    // Include custom style
    // Style.Include("mycss.css");

    // Access current user
    var user = WorkContext.CurrentUser;
    var username = user == null ? "" : user.UserName;

    // Get the content id
    var contentId = Model.ContentPart.Id;
    // Get the current content item
    var contentItem = Model.ContentItem;

    // To access a text field "Topic" you have attached to this content part
    //dynamic content = contentItem; // cast to get access to dynamic properties
    //string topic = content.RelatedContentPart.Topic.Value;

    IEnumerable<IContent> content = Model.RelatedContent;
}

 @foreach (var con in content) {
     @Display(BuildDisplay(con, displayType: "summary"))
 }

@using (Script.Foot()) {
    <script type="text/javascript">

    </script>
}